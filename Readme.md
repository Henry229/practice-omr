전체적인 개요
이 코드는 주어진 이미지에서 특정 영역(블록)을 인식하여 다양한 정보와 답안을 추출하는 코드입니다. 이미지 내에는 학생 번호, 시험 유형, 시험 과목, 레벨 정보, 시험 번호, 지점 번호 등의 정보와 함께 객관식 문제의 답안이 포함되어 있을 것으로 예상됩니다.

코드의 주요 기능 및 구조
전처리 (vertical_preprocess 함수)

주어진 이미지를 그레이스케일로 변환하고 블러 처리를 합니다.
Otsu 임계값을 사용하여 이미지를 이진화합니다.
모폴로지 연산을 사용하여 이진화된 이미지를 개선합니다.
정보 인식 (recognize_test_info 함수)

특정 블록 내에서 정보를 인식합니다.
각 문제와 선택지에 대한 영역을 추출하고, 선택지가 체크되었는지를 확인합니다.
마킹 인식 (recogize_marking_circular 함수)

선택지가 원형 마크로 체크되었는지를 판별합니다.
수평 블록 이미지 처리 (horizontal_block_image 함수)

수평 방향으로 마킹된 블록을 처리합니다.
각 문제의 답안을 추출합니다.
결과 집계 및 출력

모든 블록에서 인식된 결과를 집계하고 JSON 형식으로 출력합니다.
주요 변수 및 데이터 구조
block_info: 각 블록의 위치, 크기, 마킹 방향, 문제 수, 선택지 수 등의 정보를 포함하는 모듈에서 가져온 리스트입니다.
current_test: 현재 테스트의 정보와 답안을 저장하는 딕셔너리입니다.
final_results: 모든 테스트의 결과를 저장하는 리스트입니다.
결론 및 추가 사항
코드는 주어진 이미지에서 특정 블록을 인식하고, 해당 블록 내에서 정보와 답안을 추출하여 결과를 JSON 형식으로 출력하는 기능을 수행합니다. 그러나 코드에서 일부 미구현된 부분이나 외부 모듈(block_info_module)에 의존하는 부분이 있어, 완전한 실행을 위해서는 외부 모듈의 내용과 함께 확인해야 합니다.

block_info_module.py 파일을 제공해 주셨으니, 해당 파일의 내용도 함께 살펴보겠습니다.

block_info_module.py 파일의 내용을 확인해 보겠습니다.

Finished working
Show work
block_info_module.py 모듈의 내용은 주로 block_info라는 이름의 리스트를 포함하고 있습니다. 이 리스트는 다양한 블록의 정보를 딕셔너리 형태로 포함하고 있습니다. 각 블록에 대한 정보에는 블록의 이름, 유형, 마킹 방향, 아이템 목록, 위치 및 크기, 문제 수와 선택지 수 등이 포함되어 있습니다.

예를 들어, 첫 번째 딕셔너리는 학생 번호(Student No)에 대한 정보를 포함하고 있습니다. 이 블록은 이미지의 (69, 338) 위치에서 시작하며, 376x280의 크기를 가지고 있습니다. 또한, 이 블록에는 8개의 문제와 10개의 선택지가 있으며, 선택지는 0부터 9까지의 숫자로 구성되어 있습니다.

이러한 정보를 바탕으로 메인 코드는 이미지에서 각 블록을 인식하고, 해당 블록 내에서 정보나 답안을 인식합니다.
